{% extends "layouts/system_base.html" %}
{% load static %}
{% load humanize %}
{% load custom_filters %}

{% block content %}
<div class="content-wrapper">
    <!-- Content -->
    <div class="container-xxl flex-grow-1 container-p-y">
        <div class="row g-6 mb-3">
            <!-- Gamification Card -->
            <div class="col-md-12 col-xxl-8">
            <div class="card h-100">
                <div class="d-flex align-items-end row">
                <div class="col-md-6 order-2 order-md-1">
                    <div class="card-body">
                    {% if user.profile.birth|is_birthday %}
                    <h4 class="card-title mb-4">ğŸ‚ <span class="fw-bold">{{user.profile.membername}}</span> ë‹˜, <br>ìƒì¼ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤! ğŸ‰</h4>
                    <p class="mb-0">ì˜¤ëŠ˜ í•˜ë£¨ëŠ” íŠ¹ë³„í•œ ë‹¹ì‹ ì„ ìœ„í•œ ë‚ ì…ë‹ˆë‹¤.</p>
                    <p>ëŠ˜ í–‰ë³µê³¼ ê±´ê°•ì´ í•¨ê»˜í•˜ê¸¸ ë°”ëë‹ˆë‹¤. ğŸ¥³</p>
                    {% else %}
                    <h4 class="card-title mb-4">ì•ˆë…•í•˜ì„¸ìš”. <span class="fw-bold">{{user.profile.membername}}</span> ë‹˜! ğŸ‘‹</h4>
                    <p class="mb-0">ì„±ê³µì€ ê¾¸ì¤€í•œ ë…¸ë ¥ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤! ğŸš€</p>
                    <p>ì˜¤ëŠ˜ì˜ í•œ ê±¸ìŒì´ ë‚´ì¼ì˜ ë³€í™”ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>
                    {% endif %}
                    <a href="{% url 'system_manage:user_detail' user.pk %}" class="btn btn-primary">View Profile</a>
                    </div>
                </div>
                <div class="col-md-6 text-center text-md-end order-1 order-md-2">
                    <div class="card-body pb-0 px-0 pt-2">
                    <img
                        src="{% if user.profile.gender == 'MALE' %}{% static 'system/assets/img/illustrations/illustration-john-light.png' %}{% elif user.profile.gender == 'FEMALE' %}{% static 'system/assets/img/illustrations/illustration-daisy-light.png' %}{% else %}{% static 'system/assets/img/illustrations/trophy.png' %}{% endif %}"
                        height="186"
                        class="scaleX-n1-rtl"
                        alt="View Profile"/>
                    </div>
                </div>
                </div>
            </div>
            </div>
            <!--/ Gamification Card -->

            <div class="col-xxl-2 col-sm-6">
            <div class="card h-100">
                <div class="card-body">
                <div class="d-flex justify-content-between align-items-start flex-wrap gap-2">
                    <div class="avatar">
                        <div class="avatar-initial bg-label-primary rounded-3">
                            <i class="ri-coin-line ri-24px"></i>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <a href="#"><i class="ri-chat-history-line text-primary"></i></a>
                    </div>
                </div>
                <div class="card-info">
                    <h5 class="mb-1">ì‚¬ìš©ì ê¸ˆ ì‹œì„¸</h5>
                    <a
                    href="javascript:;"
                    data-bs-target="#editPriceModal"
                    data-bs-toggle="modal">
                    <p>
                        1ëˆ: <b id="don_price">{{gold_price.don_price|intcomma}}</b> ì›
                        <br>
                        1g: <b id="price">{{gold_price.price|intcomma}}</b> ì›
                    </p>
                    </a>
                    <div class="badge bg-label-secondary rounded-pill">{{ gold_price.updated_at|timesince_custom }}</div>
                </div>
                </div>
            </div>
            </div>
            <div class="col-xxl-2 col-sm-6">
            <div class="card h-100">
                <div class="card-body">
                <div class="d-flex justify-content-between align-items-start flex-wrap gap-2">
                    <div class="avatar">
                        <div class="avatar-initial bg-label-success rounded-3">
                            <b>N</b>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <a href="javascript:;" id="btnRefreshNaverPrice"><i class="ri-refresh-line text-success"></i></a>
                    </div>
                </div>
                <div class="card-info">
                    <h5 class="mb-1">ë„¤ì´ë²„ ê¸ˆ ì‹œì„¸</h5>
                    <p>
                        1ëˆ: <b id="don_naver_price">{{gold_price.don_naver_price|intcomma}}</b> ì›
                        <br>
                        1g: <b id="naver_price">{{gold_price.naver_price|intcomma}}</b> ì›
                    </p>
                    <div class="badge bg-label-secondary rounded-pill">{{ gold_price.naver_updated_at|timesince_custom }}</div>
                </div>
                </div>
            </div>
            </div>
        </div>
        <div class="card mb-6">
          <div class="card-header d-flex align-items-center justify-content-between">
            <h5 class="card-title mb-0">ìƒí’ˆ <div class="badge bg-label-primary rounded-pill">{{total_product_count|intcomma}} ê±´</h5>
            <div>
              <a href="#" class="btn btn-label-secondary btn-sm" href="javascript:;"
                    data-bs-target="#createProductModal"
                    data-bs-toggle="modal"><span><i class="ri-add-line me-2"></i>ìƒí’ˆ ë“±ë¡</span></a>
              <button class="btn btn-label-primary btn-sm" id="btnBulkUpdate" data-don-price="{{gold_price.don_price}}"><span><i class="ri-refresh-line me-2"></i>ìƒí’ˆ ì‹œì„¸ ì¼ê´„ ì ìš©</span></button>
              <button class="btn btn-label-success btn-sm" id="btnBulkApply"><span><i class="ri-stock-line me-2"></i>ë„¤ì´ë²„ íŒë§¤ê°€ ì¼ê´„ ë³€ê²½</span></button>
            </div>
          </div>
          <div class="card-body">
            <form id="search-form" method="get" action="">
              <div class="row">
                <div class="col-12">
                  <div class="input-group input-group-merge input-group-sm">
                    <span class="input-group-text" id="basic-addon-search31"><i class="ri-search-line"></i></span>
                    <input type="text" class="form-control" id="search_keyword" name="search_keyword" placeholder="ìƒí’ˆëª… ë˜ëŠ” ìƒí’ˆë²ˆí˜¸(ì±„ë„ìƒí’ˆ, ì›ìƒí’ˆ)ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”..." aria-label="Search..." aria-describedby="basic-addon-search31" value="{{search_keyword}}"/>
                  </div>
                </div>
              </div>
            </form>
            <div class="table-responsive text-nowrap">
              <table class="table table-sm table-hover">
                <thead>
                  <tr>
                    <th>ìƒí’ˆëª…  <a href="?search_keyword={{search_keyword}}&sort=name&order={% if order == 'asc' and sort == 'name' %}desc{% else %}asc{% endif %}">{% if sort == 'name' %}{% if order == 'desc' %}<i class="ri-sort-desc ms-2"></i>{% else %}<i class="ri-sort-asc ms-2"></i>{% endif %}{% else %}<i class="ri-arrow-up-down-line ms-2"></i>{% endif %}</a></th>
                    <th>íŒë§¤ê°€ <a href="?search_keyword={{search_keyword}}&sort=price&order={% if order == 'asc' and sort == 'price' %}desc{% else %}asc{% endif %}">{% if sort == 'price' %}{% if order == 'desc' %}<i class="ri-sort-desc ms-2"></i>{% else %}<i class="ri-sort-asc ms-2"></i>{% endif %}{% else %}<i class="ri-arrow-up-down-line ms-2"></i>{% endif %}</a></th>
                    <th>ì¤‘ëŸ‰ <a href="?search_keyword={{search_keyword}}&sort=gold&order={% if order == 'asc' and sort == 'gold' %}desc{% else %}asc{% endif %}">{% if sort == 'gold' %}{% if order == 'desc' %}<i class="ri-sort-desc ms-2"></i>{% else %}<i class="ri-sort-asc ms-2"></i>{% endif %}{% else %}<i class="ri-arrow-up-down-line ms-2"></i>{% endif %}</a></th>
                    <th>ê³µì„ë¹„ <a href="?search_keyword={{search_keyword}}&sort=labor_cost&order={% if order == 'asc' and sort == 'labor_cost' %}desc{% else %}asc{% endif %}">{% if sort == 'labor_cost' %}{% if order == 'desc' %}<i class="ri-sort-desc ms-2"></i>{% else %}<i class="ri-sort-asc ms-2"></i>{% endif %}{% else %}<i class="ri-arrow-up-down-line ms-2"></i>{% endif %}</a></th>
                    <th>ë¶€ê°€ë¹„ <a href="?search_keyword={{search_keyword}}&sort=sub_cost&order={% if order == 'asc' and sort == 'sub_cost' %}desc{% else %}asc{% endif %}">{% if sort == 'sub_cost' %}{% if order == 'desc' %}<i class="ri-sort-desc ms-2"></i>{% else %}<i class="ri-sort-asc ms-2"></i>{% endif %}{% else %}<i class="ri-arrow-up-down-line ms-2"></i>{% endif %}</a></th>
                    <th>íŒë§¤ê°€ ë°°ìœ¨ <a href="?search_keyword={{search_keyword}}&sort=markup_rate&order={% if order == 'asc' and sort == 'markup_rate' %}desc{% else %}asc{% endif %}">{% if sort == 'markup_rate' %}{% if order == 'desc' %}<i class="ri-sort-desc ms-2"></i>{% else %}<i class="ri-sort-asc ms-2"></i>{% endif %}{% else %}<i class="ri-arrow-up-down-line ms-2"></i>{% endif %}</a></th>
                    <th>ì˜µì…˜</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody class="table-border-bottom-0">
                  {% if product_list %}
                    {% for i in product_list %}
                    <tr>  
                      <td>
                        <div class="d-flex justify-content-start align-items-center">
                            <div class="d-flex flex-column">
                              <a class="text-heading text-truncate" href="javascript:;" data-bs-target="#editProductModal" data-bs-toggle="modal" data-product-id="{{i.id}}" data-channel-product-no="{{i.channel_product_no}}" data-name="{{i.name}}" data-gold="{{i.gold|strip_decimal}}" data-labor-cost="{{i.labor_cost}}" data-sub-cost="{{i.sub_cost}}" data-markup-rate="{{i.markup_rate|strip_decimal}}"><span class="fw-medium">{{i.name}}</span></a>
                              <a href="javascript:;" data-bs-target="#editProductModal" data-bs-toggle="modal" data-product-id="{{i.id}}" data-channel-product-no="{{i.channel_product_no}}" data-name="{{i.name}}" data-gold="{{i.gold|strip_decimal}}" data-labor-cost="{{i.labor_cost}}" data-sub-cost="{{i.sub_cost}}" data-markup-rate="{{i.markup_rate|strip_decimal}}"><small class="text-truncate">[ {{i.channel_product_no}} ]</small></a>
                            </div>
                        </div>
                      </td>
                      <td><span class="text-heading">{{i.price|intcomma}}ì›</span></td>
                      <td>
                        <div class="d-flex justify-content-start align-items-center">
                          <div class="d-flex flex-column">
                            <span class="text-heading text-truncate"><span class="fw-medium">{{i.gold|strip_decimal}}g</span></span>
                            <small class="text-truncate">[ {{i.gold_don|strip_decimal:2}}ëˆ ]</small>
                          </div>
                      </div>
                    </td>
                      <td>{{i.labor_cost|intcomma}}ì›</td>
                      <td>{{i.sub_cost|intcomma}}ì›</td>
                      <td>{{i.markup_rate|strip_decimal}}</td>
                      <td>
                          <a href="javascript:;" data-bs-target="#optionModal" data-bs-toggle="modal" data-product-id="{{i.id}}" data-name="{{i.name}}">
                            {% if i.option_group_quantity > 0 %}
                            <span class="d-inline-block" data-bs-toggle="tooltip" data-bs-html="true" 
                            aria-label="&lt;span&gt;
                            {% if i.option_group_name1 %}
                              {{i.option_group_name1}}&lt;br&gt;
                            {% endif %}
                            {% if i.option_group_name2 %}
                              {{i.option_group_name2}}&lt;br&gt;
                            {% endif %}
                            {% if i.option_group_name3 %}
                              {{i.option_group_name3}}&lt;br&gt;
                            {% endif %}" 
                            data-bs-original-title="&lt;span&gt;
                            {% if i.option_group_name1 %}
                              {{i.option_group_name1}}&lt;br&gt;
                            {% endif %}
                            {% if i.option_group_name2 %}
                              {{i.option_group_name2}}&lt;br&gt;
                            {% endif %}
                            {% if i.option_group_name3 %}
                              {{i.option_group_name3}}&lt;br&gt;
                            {% endif %}" 
                            >
                            <span class="badge rounded-pill {% if i.option_group_flag %}bg-label-primary{% else %}bg-label-warning{% endif %} text-capitalized"><i class="icon-base ri {% if i.option_group_flag %}ri-check-line{% else %}ri-close-line{% endif %} icon-16px my-50"></i> ( {{i.option_group_quantity}} )</span>
                            </span>
                            {% else %}
                            <span class="badge rounded-pill bg-label-secondary text-capitalized"><i class="icon-base ri ri-close-line icon-16px my-50"></i> ( {{i.option_group_quantity}} )</span>
                            {% endif %}
                          </a>
                      </td>
                      <td>
                        <div class="dropdown">
                          <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="ri-more-2-line"></i></button>
                          <div class="dropdown-menu">
                            <a class="dropdown-item btn-apply" href="javascript:;" data-product-id="{{i.id}}" data-name="{{i.name}}" data-option-group-flag="{{i.option_group_flag}}"><i class="ri-upload-2-line me-1"></i> ë„¤ì´ë²„ íŒë§¤ê°€ ë³€ê²½</a>
                            <a class="dropdown-item" href="javascript:;" data-bs-target="#editProductModal" data-bs-toggle="modal" data-product-id="{{i.id}}" data-channel-product-no="{{i.channel_product_no}}" data-name="{{i.name}}" data-gold="{{i.gold|strip_decimal}}" data-labor-cost="{{i.labor_cost}}" data-sub-cost="{{i.sub_cost}}" data-markup-rate="{{i.markup_rate|strip_decimal}}"><i class="ri-pencil-line me-1"></i> ìˆ˜ì •</a>
                            <a class="dropdown-item btn-delete" href="javascript:;" data-product-id="{{i.id}}" data-name="{{i.name}}"><i class="ri-delete-bin-line me-1"></i> ì‚­ì œ</a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    {% endfor %}
                  {% else %}
                    <tr>
                        <td class="text-center" colspan='8'>ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
                    </tr>
                  {% endif %}              
                </tbody>
              </table>
            </div>
          </div>
        </div>
    </div>
    <!-- / Content -->
    <div class="modal fade" id="editPriceModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-simple modal-edit-price">
          <div class="modal-content">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            <div class="modal-body p-0">
              <div class="text-center mb-6">
                <h4 class="mb-2">ê¸ˆ ì‹œì„¸ ìˆ˜ì •</h4>
                <p class="mb-6">ê¸ˆ 1ëˆ ì‹œì„¸ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>
              </div>
              <form id="editPriceForm" class="row g-5" onsubmit="return false">
                <div class="col-12">
                    <div class="form-floating form-floating-outline">
                      <input
                        type="text"
                        id="price"
                        name="price"
                        class="form-control number-only"
                        value="{{gold_price.don_price}}"
                        placeholder="{{gold_price.don_price}}"/>
                      <label for="price">ê¸ˆ 1ëˆ ì‹œì„¸ (ì›)</label>
                    </div>
                </div>
                <div class="col-12 text-center d-flex flex-wrap justify-content-center gap-4 row-gap-4">
                  <button type="button" id="btnEditPrice" class="btn btn-primary">ì €ì¥</button>
                  <button
                    type="reset"
                    class="btn btn-outline-secondary"
                    data-bs-dismiss="modal"
                    aria-label="Close">
                    ë‹«ê¸°
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="createProductModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-simple modal-create-product">
        <div class="modal-content">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <div class="modal-body p-0">
            <div class="text-center mb-6">
              <h4 class="mb-2">ìƒí’ˆ ë“±ë¡</h4>
              <p class="mb-6">ìƒí’ˆ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>
            </div>
            <form id="createProductForm" class="row g-5" onsubmit="return false">
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalCreateChannelProductNo"
                      name="channel_product_no"
                      class="form-control number-only"
                      placeholder="ì±„ë„ ìƒí’ˆ ë²ˆí˜¸"/>
                    <label for="modalCreateChannelProductNo">ì±„ë„ ìƒí’ˆ ë²ˆí˜¸</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalCreateGold"
                      name="gold"
                      class="form-control number-decimal-only"
                      placeholder="ì¤‘ëŸ‰"/>
                    <label for="modalCreateGold">ì¤‘ëŸ‰</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalCreateLaborCost"
                      name="labor_cost"
                      class="form-control number-only"
                      placeholder="ê³µì„ ë¹„ìš©"/>
                    <label for="modalCreateLaborCost">ê³µì„ ë¹„ìš©</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalCreateSubCost"
                      name="sub_cost"
                      class="form-control number-only"
                      placeholder="ë¶€ê°€ ë¹„ìš©"/>
                    <label for="modalCreateSubCost">ë¶€ê°€ ë¹„ìš©</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalCreateMarkupRate"
                      name="markup_rate"
                      class="form-control number-decimal-only"
                      placeholder="íŒë§¤ê°€ ë°°ìœ¨"/>
                    <label for="modalCreateMarkupRate">íŒë§¤ê°€ ë°°ìœ¨</label>
                  </div>
              </div>
              <div class="col-12 text-center d-flex flex-wrap justify-content-center gap-4 row-gap-4">
                <button type="button" id="btnCreateProduct" class="btn btn-primary">ì €ì¥</button>
                <button
                  type="reset"
                  class="btn btn-outline-secondary"
                  data-bs-dismiss="modal"
                  aria-label="Close">
                  ë‹«ê¸°
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="editProductModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-simple modal-edit-product">
        <div class="modal-content">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <div class="modal-body p-0">
            <div class="text-center mb-6">
              <h4 class="mb-2">ìƒí’ˆ ìˆ˜ì •</h4>
              <p class="mb-6" id="modalEditProductDescription">ìƒí’ˆ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>
            </div>
            <form id="editProductForm" class="row g-5" onsubmit="return false">
              <input type="hidden" id="modalEditProductId" name="product_id" value="">
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalEditChannelProductNo"
                      name="channel_product_no"
                      class="form-control number-only"
                      placeholder="ì±„ë„ ìƒí’ˆ ë²ˆí˜¸" disabled/>
                    <label for="modalEditChannelProductNo">ì±„ë„ ìƒí’ˆ ë²ˆí˜¸</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalEditGold"
                      name="gold"
                      class="form-control number-decimal-only"
                      placeholder="ì¤‘ëŸ‰"/>
                    <label for="modalEditGold">ì¤‘ëŸ‰</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalEditLaborCost"
                      name="labor_cost"
                      class="form-control number-only"
                      placeholder="ê³µì„ ë¹„ìš©"/>
                    <label for="modalEditLaborCost">ê³µì„ ë¹„ìš©</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalEditSubCost"
                      name="sub_cost"
                      class="form-control number-only"
                      placeholder="ë¶€ê°€ ë¹„ìš©"/>
                    <label for="modalEditSubCost">ë¶€ê°€ ë¹„ìš©</label>
                  </div>
              </div>
              <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input
                      type="text"
                      id="modalEditMarkupRate"
                      name="markup_rate"
                      class="form-control number-decimal-only"
                      placeholder="íŒë§¤ê°€ ë°°ìœ¨"/>
                    <label for="modalEditMarkupRate">íŒë§¤ê°€ ë°°ìœ¨</label>
                  </div>
              </div>
              <div class="col-12 text-center d-flex flex-wrap justify-content-center gap-4 row-gap-4">
                <button type="button" id="btnEditProduct" class="btn btn-primary">ì €ì¥</button>
                <button
                  type="reset"
                  class="btn btn-outline-secondary"
                  data-bs-dismiss="modal"
                  aria-label="Close">
                  ë‹«ê¸°
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="optionModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-simple modal-option">
        <div class="modal-content">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <div class="modal-body">
            <div class="text-center mb-6">
              <h4 class="mb-2">ìƒí’ˆ ì˜µì…˜
                <button class="btn btn-primary btn-sm" id="modalFetchOption"><i class="ri-refresh-line"></i></button>
              </h4>
              <p class="mb-6" id="modalOptionDescription">ìƒí’ˆ ì˜µì…˜ ì •ë³´ ì…ë‹ˆë‹¤.</p>
              
            </div>
            <div id="modalOptionContent">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="progressModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <form class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="progressModalTitle">ë„¤ì´ë²„ íŒë§¤ê°€ê²© ì—…ë°ì´íŠ¸</h5>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col mb-6 mt-2">
                <div class="progress bg-label-primary">
                  <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" 
                  style="width: 0%" aria-valuenow="0"
                  aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span id="progressModalDescription">ì‘ì—… ì¤€ë¹„ ì¤‘ ì…ë‹ˆë‹¤.</span>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
</div>

<div id="loadingOverlay" class="position-fixed top-0 start-0 w-100 h-100 d-none bg-white bg-opacity-75 z-3">
  <div class="d-flex justify-content-center align-items-center h-100">
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>
{% endblock %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script src="{% static 'system/assets/vendor/libs/apex-charts/apexcharts.js' %}"></script>
<script src="{% static 'system/js/system_manage/script_main.js' %}?"></script>
<script src="{% static 'system/js/system_manage/script_product.js' %}"></script>
<script src="{% static 'system/js/system_manage/script_option.js' %}"></script>
{% endblock javascripts %}